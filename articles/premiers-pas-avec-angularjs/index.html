<!DOCTYPE html>
<html lang="fr" class="no-js">

<head>
  <meta charset="UTF-8" />
  <title>Ronan Levesque &ndash; Premiers pas avec AngularJS</title>
  <meta name="description" content="Description de ma première expérience de construction d'une web app avec AngularJS" />
  <meta name="author" content="Ronan Levesque" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Ronan Levesque" />
  <meta property="og:title" content="Premiers pas avec AngularJS" />
  <meta property="og:description" content="Description de ma première expérience de construction d'une web app avec AngularJS" />
  <meta property="og:url" content="http://ronanlevesque.fr/articles/premiers-pas-avec-angularjs/" />
  <link rel="dns-prefetch" href="//www.google-analytics.com" />
  <link rel="dns-prefetch" href="//fonts.googleapis.com" />
  <link href="/assets/css/styles-04422c34c7dce115729fe0bbfd34356a.css" rel="stylesheet" />
  <link href='https://fonts.googleapis.com/css?family=PT+Mono%7CPT+Sans:700%7CPT+Serif:400,400italic,700' rel='stylesheet' type='text/css' />
  <link rel="apple-touch-icon" sizes="57x57" href="/favicons/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon" sizes="60x60" href="/favicons/apple-touch-icon-60x60.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="/favicons/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="76x76" href="/favicons/apple-touch-icon-76x76.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="/favicons/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon" sizes="120x120" href="/favicons/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="/favicons/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon-180x180.png" />
  <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/favicons/favicon-194x194.png" sizes="194x194" />
  <link rel="icon" type="image/png" href="/favicons/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/png" href="/favicons/android-chrome-192x192.png" sizes="192x192" />
  <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16" />
  <link rel="manifest" href="/favicons/manifest.json" />
  <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5" />
  <link rel="shortcut icon" href="/favicons/favicon.ico" />
  <meta name="msapplication-TileColor" content="#343838" />
  <meta name="msapplication-TileImage" content="/favicons/mstile-144x144.png" />
  <meta name="msapplication-config" content="/favicons/browserconfig.xml" />
  <meta name="theme-color" content="#ffffff" />
  <script>
    document.documentElement.className = document.documentElement.className.replace(/(\s|^)no-js(\s|$)/, '$1js$2');
    if (localStorage.getItem('fontsLoaded')) { document.documentElement.className += ' fonts-loaded'; }
  </script>
</head>


<body id="top">



  <div class="js-content">
    <div class="wrapper">
        <header class="mainHeader">
    <div class="mainHeader-logo">
      <a href="/">
        <svg class="logo -header" viewBox="0 0 136 114" xmlns="http://www.w3.org/2000/svg"><title>Shape</title><path d="M.206 113.784V87.542h42.16V.925c14.965 0 29.277-.22 43.578.102 6.272.14 12.693.71 18.745 2.264 16.98 4.356 25.74 17.026 24.565 34.44-.894 13.243-7.428 21.372-23.02 28.047l29.19 48.008H102.98c-7.978-14.616-16.098-29.49-24.266-44.458h-8.694v44.458H.206zm69.767-65.03c8.372.24 16.34.83 24.032-1.815 5.438-1.87 8.124-5.945 7.958-11.332-.156-5.046-3.123-8.854-8.62-10.223-7.636-1.9-15.405-1.27-23.37-1.063v24.43z" fill="#e3b932" fill-rule="evenodd"/></svg>
        <p class="mainHeader-title">Ronan Levesque</p>
      </a>
    </div>
    <nav class="mainNav -header">
        <ul class="mainNav-list">
          
          <li class="mainNav-item"><a href="/projets/" class="mainNav-link">Projets</a></li>
          <li class="mainNav-item"><a href="/articles/" class="mainNav-link selected">Articles</a></li>
          <li class="mainNav-item"><a href="/a-propos/" class="mainNav-link">A propos</a></li>
        </ul>
    </nav>
  </header>

      
      <article class="article">
      
        <header class="article-header">
          <p class="article-date">26 novembre 2013</p>
          <h1 class="article-title">Premiers pas avec AngularJS</h1>
        </header>
        
        <div class="article-content">
        
          <p>J’ai commencé à m’intéresser il y a peu à <a href="http://angularjs.org/">AngularJS</a>, un framework JavaScript “client-side” orienté MVC/MVVM dont j’entends beaucoup parler en ce moment. Angular est parfait pour créer des SPA (single pages apps), voire même des sites complets. J’ai voulu tester son potentiel en créant pour l’occasion une app de A à Z.</p>

<hr />

<p>Attention, cet article n’est pas un tutoriel. Je cherche simplement à décrire ici l’app que j’ai créée, sa mise en place ainsi que les obstacles que j’ai rencontrés.</p>

<h2 id="angular-cest-quoinbsp">Angular, c’est quoi ?</h2>

<p>Angular est comme précisé plus haut un framework JS MVC. Il est développé en open-source par Google. L’explication donnée par <a href="http://fr.wikipedia.org/wiki/AngularJS">Wikipédia</a> me paraît excellente pour mieux saisir son concept :</p>

<blockquote><p>Angular adapte et étend le HTML traditionnel pour servir le contenu dynamique de façon améliorée grâce à un data-binding bidirectionnel qui permet la synchronisation automatique des modèles et des vues.</p></blockquote>

<p>Pour résumer cela : la vue mettra à jour le modèle, et vice-versa. Angular a baptisé ça “<em>Two-way Data Binding</em>”.</p>

<p>De plus, grâce à l’injection de dépendances, beaucoup de fonctionnalités traditionnellement gérées côté serveur vont pouvoir l’être côté client, allégeant ainsi le code du premier pour des applications plus légères et rapides.</p>

<h2 id="moovies">Moovies</h2>

<p>L’idée que j’avais en tête était de créer <strong>Moovies</strong>, une app qui permettrait de lister les films que ma copine ou moi souhaitions voir ainsi qu’un lien renvoyant vers la fiche de chaque film. <strong>Moovies</strong> devait remplir les critères suivants :</p>

<ul>
  <li>recherche par titre parmi la liste des films affichés</li>
  <li>possibilité de les trier alphabétiquement ou par catégorie</li>
  <li>espace d’administration avec authentification par mail/mot de passe</li>
  <li>ajout, édition ou suppression des films via l’admin.</li>
</ul>

<p>Le tout étant entièrement managé via Angular, et sans gestion côté serveur. Le résultat est disponible ci-dessous :</p>

<p class="link"><a href="http://ronanlevesque.fr/mv">Voir Moovies en action</a></p>

<h2 id="par-o-commencernbsp">Par où commencer ?</h2>

<p>Pour ceux qui comme moi débutent totalement avec Angular, je pense que l’idéal est de commencer par le <a href="http://docs.angularjs.org/tutorial">tutoriel officiel</a>. Je l’ai trouvé très clair et détaillé; il permet également de comprendre la philosophie d’Angular ainsi que de saisir ses concepts basiques.</p>

<p>Le site <a href="http://egghead.io/lessons">egghead.io</a> propose aussi des leçons vidéo, allant de cours basiques à des cours avancés. Todd Motto, un spécialiste du sujet, a écrit un article très poussé sur son site, <a href="http://toddmotto.com/ultimate-guide-to-learning-angular-js-in-one-day/">“Ultimate guide to learning AngularJS in one day”</a>.</p>

<p>En revanche, j’ai trouvé que la documentation officielle n’était pas si bien documentée que cela en fin de compte. J’ai dû pas mal fouiller, notamment sur <a href="http://stackoverflow.com/questions/tagged/angularjs">Stackoverflow</a>, pour trouver les réponses à certains problèmes complexes que j’avais pu rencontrer.</p>

<h2 id="la-tentation-jquery">La tentation jQuery</h2>

<p>Une fois lancé dans la création de mon app, j’ai très vite été tenté de passer par jQuery pour me simplifier la vie lors la manipulation du DOM. En fait, il s’avère que <a href="http://stackoverflow.com/questions/14994391/how-do-i-think-in-angularjs-if-i-have-a-jquery-background?rq=1">90% du temps</a> - voire plus - jQuery n’est pas nécessaire, Angular proposant déjà un très large choix de solutions maison (<code class="highlighter-rouge">ng-click</code>, <code class="highlighter-rouge">ng-hide</code>, <code class="highlighter-rouge">ng-show</code> et j’en passe).</p>

<p>Ceci dit, je dois avouer que j’y ai quand même eu recours à 2-3 reprises. Mais avec le degré de compréhension que j’ai maintenant d’Angular, je pense que pour mon prochain projet ça ne sera même plus nécessaire.</p>

<p>Par ailleurs, pour info Angular embarque par défaut jQuery lite.</p>

<h2 id="les-bases-de-donnes">Les bases de données</h2>

<p>Angular utilise des données au format JSON comme structure de bases. C’est très pratique, car il est du coup facile d’exporter par exemple des données Excel vers son app.</p>

<p>Pour <strong>Moovies</strong>, la première piste que j’ai suivie a été de créer un tableau de données sur Google Spreadsheets, puis de lier l’un et l’autre (oui, Angular permet de faire ça :)). En fin de compte, cela s’est avéré moyennement intéressant, car pour ajouter ou supprimer un film il fallait à chaque fois repasser par Spreadsheets. Ca s’accordait peu avec mon envie de tout centraliser sur une page.</p>

<p>La deuxième piste a été de passer par <a href="https://www.firebase.com">Firebase</a>, un backend externalisé qui a en plus développé spécifiquement un module pour Angular : <a href="http://angularfire.com/">AngularFire</a>. L’avantage de cette solution, c’est qu’il n’y presque aucun code à écrire, ni aucune gestion à effectuer côté serveur. Son énorme atout, c’est qu’elle permet de créer du “<em>Three-way Data Binding</em>”, en ajoutant au <em>Binding</em> d’Angular ses propres données backend. Pour faire simple, une modification dans l’app mettra à jour les bases de données et réciproquement. En gros : surpuissant :)</p>

<h2 id="une-question-de-scurit">Une question de sécurité</h2>

<p><strong>Moovies</strong> contient des données qui n’ont rien de sensible, mais je voulais quand même tester à quel point son niveau de sécurité pouvait être fiable.</p>

<p>La première étape a été de créer un système d’authentification, lié à la base de données que j’avais créée sur Firebase. Une fois ce système mis en place, les options d’édition, d’ajout et de suppression de films ne deviennent disponibles que lorsque l’on est connecté.</p>

<p>Le souci, c’est que n’importe quelle personne ayant une connaissance relative d’Angular aurait pu télécharger localement les fichiers puis modifier mon code pour afficher par défaut les options d’administration, gérées via des directives spécifiques.</p>

<p>Heureusement, AngularFire apporte un degré de protection supplémentaire puisqu’il permet de définir des autorisations de lecture et/ou d’écriture selon le fait que l’utilisateur est authentifié ou non. Avec les paramètres que j’ai définis, sans authentification aucune manipulation des données n’est possible.</p>

<h2 id="pour-finir">Pour finir…</h2>

<p>En guise de conclusion, je trouve que <strong>Moovies</strong>, même si elle reste assez simple en tant qu’app, a été une excellente expérience pour découvrir et comprendre la façon dont Angular fonctionne. Il me reste encore beaucoup à apprendre sur le sujet, mais je suis en tout cas pleinement rassuré sur son potentiel. Le fait qu’il supporte également les <a href="http://www.journaldunet.com/developpeur/client-web/web-components-0913.shtml">Web Components</a> est très prometteur pour l’avenir.</p>

<p>De plus, comme cette app a été développée pour un usage personnel, j’ai décidé de laisser tomber le support des navigateurs obsolètes et j’ai pu m’amuser au niveau de mon code, par exemple avec du <code class="highlighter-rouge">calc</code> pour certaines propriétés CSS. Et c’est vraiment rafraîchissant de coder uniquement pour le futur, en oubliant les polyfills :)</p>

        </div>
      </article>
        
  <footer class="mainFooter">
  
    <a href="#top" data-scroll class="js-back-to-top flip-container">
      <div class="flip">
        <svg class="logo -footer front" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200.003 200.003"><path fill="#e3b932" d="M0 200.003V0h200.003v200.003H0zm32.206-43.22h69.816v-44.457h8.694c8.168 14.967 16.288 29.842 24.266 44.458h32.442l-29.188-48.008c15.59-6.675 22.125-14.804 23.02-28.047 1.174-17.415-7.585-30.084-24.567-34.44-6.053-1.553-12.474-2.124-18.746-2.264-14.3-.322-28.613-.102-43.577-.102v86.617h-42.16v26.244z"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#fff" d="M32.206 156.784v-26.242h42.16V43.925c14.965 0 29.277-.22 43.578.102 6.272.14 12.693.71 18.745 2.264 16.98 4.356 25.74 17.026 24.565 34.44-.894 13.243-7.428 21.372-23.02 28.047l29.19 48.008H134.98c-7.978-14.616-16.098-29.49-24.266-44.458h-8.694v44.458H32.206zm69.767-65.03c8.372.24 16.34.83 24.032-1.815 5.438-1.87 8.124-5.945 7.958-11.332-.156-5.046-3.123-8.854-8.62-10.223-7.636-1.9-15.405-1.27-23.37-1.063v24.43z"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#e3b932" d="M101.973 91.753V67.32c7.965-.204 15.734-.836 23.37 1.064 5.497 1.37 8.464 5.177 8.62 10.223.166 5.387-2.52 9.46-7.958 11.33-7.692 2.647-15.66 2.057-24.032 1.816z"/></svg>
        <svg class="logo -footer back" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h200v200H0V0z" fill="#e3b932"/><path d="M158.308 118.845l-20.244 20.34L100 101.304l-38.064 37.883-20.244-20.34L100 60.813l58.308 58.03z" fill="#fff"/></g></svg>
      </div>
    </a>
  </footer>

    </div>
  </div>

  <script src="/assets/js/bundle-d03a867ccd166e002804a1609e2fbbe5.js"></script>
  </body>
</html>

